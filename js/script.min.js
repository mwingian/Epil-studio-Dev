"use strict";

const depilacjaWoskiem = {
  name: "Depilacja woskiem",
  female: [
    {
      name: "Depilacja twarzy (całość)",
      price: 60,
    },
    {
      name: "Lędzwie (dolna część pleców)",
      price: 30,
    },
    {
      name: "Linia brzucha",
      price: 35,
    },
    {
      name: "Depilacja wąsik lub broda",
      price: 30,
    },
    {
      name: "Depilacja całe ciało",
      price: 370,
    },
    {
      name: "Depilacja całe ręce",
      price: 100,
    },
    {
      name: "Depilacja bilini głębokie",
      price: 95,
    },
    {
      name: "Depilacja ramiona lub przedramiona",
      price: 60,
    },
    {
      name: "Depilacja pachy",
      price: 45,
    },
    {
      name: "Pośladki",
      price: 40,
    },
    {
      name: "Depilacja bikini klasyczne",
      price: 75,
    },
    {
      name: "Depilacja nóg (całe nogi)",
      price: 125,
    },
    {
      name: "Depilacja uda + kolana",
      price: 75,
    },
    {
      name: "Depilacja łydki + kolana",
      price: 65,
    },
  ],
  male: [],
};
const depilacjaLaserowa = {
  name: "Depilacja laserowa",
  female: [
    {
      name: "Konsultacja",
      price: 0,
    },
    {
      name: "Twarz",
      price: 140,
    },
    {
      name: "Podbródek",
      price: 80,
    },
    {
      name: "Łydki  i kolana",
      price: 275,
    },
    {
      name: "Wąsik",
      price: 80,
    },
    {
      name: "Nóżki całkiem",
      price: 450,
    },
    {
      name: "Uda",
      price: 250,
    },
    {
      name: "Klasyczne bikini",
      price: 165,
    },
    {
      name: "Głębokie bikini",
      price: 200,
    },
    {
      name: "Pośladki",
      price: 300,
    },
    {
      name: "Ręce całe",
      price: 200,
    },
    {
      name: "Ręce do łokcia",
      price: 165,
    },
    {
      name: "Pachy",
      price: 165,
    },
    {
      name: "Wargi",
      price: 100,
    },
    {
      name: "Brzuch",
      price: 250,
    },
    {
      name: "Linia brzuchu",
      price: 65,
    },
    {
      name: "Szyja",
      price: 120,
    },
    {
      name: "Sutki",
      price: 50,
    },
  ],
  male: [
    {
      name: "Konsultacja",
      price: 0,
    },
    {
      name: "Twarz",
      price: 140,
    },
    {
      name: "Podbródek",
      price: 80,
    },
    {
      name: "Łydki  i kolana",
      price: 275,
    },
    {
      name: "Wąsik",
      price: 80,
    },
    {
      name: "Nóżki całkiem",
      price: 450,
    },
    {
      name: "Uda",
      price: 250,
    },
    {
      name: "Klasyczne bikini",
      price: 165,
    },
    {
      name: "Głębokie bikini",
      price: 200,
    },
    {
      name: "Pośladki",
      price: 300,
    },
    {
      name: "Ręce całe",
      price: 200,
    },
    {
      name: "Ręce do łokcia",
      price: 165,
    },
    {
      name: "Pachy",
      price: 165,
    },
    {
      name: "Wargi",
      price: 100,
    },
    {
      name: "Brzuch",
      price: 250,
    },
    {
      name: "Linia brzuchu",
      price: 65,
    },
    {
      name: "Szyja",
      price: 120,
    },
    {
      name: "Sutki",
      price: 50,
    },
  ],
};
const elektroepilacja = {
  name: "Elektroepilacja",
  female: [
    {
      name: "10 minut",
      price: 70,
    },
    {
      name: "15 minut",
      price: 85,
    },
    {
      name: "20 minut",
      price: 100,
    },
    {
      name: "30 minut",
      price: 140,
    },
    {
      name: "40 minut",
      price: 170,
    },
    {
      name: "50 minut",
      price: 180,
    },
    {
      name: "1 godzina",
      price: 200,
    },
    {
      name: "3 godziny",
      price: 500,
    },
    {
      name: "5 godzin",
      price: 800,
    },
    {
      name: "8 godzin",
      price: 1300,
    },
    {
      name: "10 godzin",
      price: 1600,
    },
  ],
  male: [
    {
      name: "10 minut",
      price: 70,
    },
    {
      name: "15 minut",
      price: 85,
    },
    {
      name: "20 minut",
      price: 100,
    },
    {
      name: "30 minut",
      price: 140,
    },
    {
      name: "40 minut",
      price: 170,
    },
    {
      name: "50 minut",
      price: 180,
    },
    {
      name: "1 godzina",
      price: 200,
    },
    {
      name: "3 godziny",
      price: 500,
    },
    {
      name: "5 godzin",
      price: 800,
    },
    {
      name: "8 godzin",
      price: 1300,
    },
    {
      name: "10 godzin",
      price: 1600,
    },
  ],
};
const kosmetologia = {
  name: "Kosmetologia",
  female: [
    {
      name: "Atraumatyczne oczyszczanie twarzy HOLLY LAND",
      price: 200,
    },
    {
      name: "Kombinowane oczyszczenie pleców",
      price: 250,
    },
    {
      name: "Peeling kawitacyjny",
      price: 200,
    },
    {
      name: "Oczyszczanie mechaniczne",
      price: 200,
    },
    {
      name: "Kombinowane oczyszczenie twarzy",
      price: 200,
    },
    {
      name: "Kombinowane oczyszczenie twarzy + maska algowa",
      price: 220,
    },
    {
      name: "Kombinowane oczyszczenie twarzy + peeling AHA kwas",
      price: 230,
    },
    {
      name: "Kombinowane oczyszczenie twarzy",
      price: 220,
    },
    {
      name: "Oczyszczenie HYDRA FASCIAL",
      price: 250,
    },
    {
      name: "Masaż twarzy + maska algowa",
      price: 150,
    },
    {
      name: "Masaż twarzy + maska algowa + peeling AHA",
      price: 220,
    },
    {
      name: "RF-lifting",
      price: 250,
    },
    {
      name: "Konsultacja",
      price: 0,
    },
  ],
  male: [
    {
      name: "Atraumatyczne oczyszczanie twarzy HOLLY LAND",
      price: 200,
    },
    {
      name: "Kombinowane oczyszczenie pleców",
      price: 250,
    },
    {
      name: "Peeling kawitacyjny",
      price: 200,
    },
    {
      name: "Oczyszczanie mechaniczne",
      price: 200,
    },
    {
      name: "Kombinowane oczyszczenie twarzy",
      price: 200,
    },
    {
      name: "Kombinowane oczyszczenie twarzy + maska algowa",
      price: 220,
    },
    {
      name: "Kombinowane oczyszczenie twarzy + peeling AHA kwas",
      price: 230,
    },
    {
      name: "Kombinowane oczyszczenie twarzy",
      price: 220,
    },
    {
      name: "Oczyszczenie HYDRA FASCIAL",
      price: 250,
    },
    {
      name: "Masaż twarzy + maska algowa",
      price: 150,
    },
    {
      name: "Masaż twarzy + maska algowa + peeling AHA",
      price: 220,
    },
    {
      name: "RF-lifting",
      price: 250,
    },
    {
      name: "Konsultacja",
      price: 0,
    },
  ],
};
const manicure = {
  name: "Manicure",
  female_photo: {
    path1: "img/Manikure1.png",
    path2: "img/Manikure2.png",
  },
  female: [
    {
      name: "Przedłużanie paznokci",
      price: 160,
    },
    {
      name: "Przedłużanie paznokci + french",
      price: 180,
    },
    {
      name: "Ściagnięcie hybrydy + manicure frezarkowy/klasyczny",
      price: 75,
    },
    {
      name: "Manicure hybrydowy + french",
      price: 120,
    },
    {
      name: "Uzupełnienie paznokci żelowych",
      price: 125,
    },
    {
      name: "Manicure hybrydowy",
      price: 100,
    },
    {
      name: "Ściągnięcie żelu + manicure frezarkowy/klsyczny",
      price: 75,
    },
    {
      name: "Uzupełnienie paznokci żelowych + french",
      price: 145,
    },
    {
      name: "Manicure frezarkowy/klasyczny",
      price: 69,
    },
    {
      name: "Dorobienie 1 paznokcia",
      price: 20,
    },
  ],
  male: [
    {
      name: "Manicure",
      price: 59,
    },
    {
      name: "Manicure + Pedicure",
      price: 150,
    },
  ],
};
const pedicure = {
  name: "Pedicure",
  female_photo: {
    path1: "img/Pedicure1.png",
    path2: "img/Pedicure2.png",
  },
  female: [
    {
      name: "Pedicure klasyczny + pięty bez malowania",
      price: 100,
    },
    {
      name: "Pedicure hybrydowy",
      price: 140,
    },
    {
      name: "Pedicure hybrydowy +french",
      price: 160,
    },
    {
      name: "Pedicure klasyczny bez stóp",
      price: 85,
    },
    {
      name: "Odrobienie pięt",
      price: 65,
    },
    {
      name: "Ściągnięcie hybrydy:",
      price: -1,
    },
    {
      name: "po innym salonie",
      price: 10,
    },
    {
      name: "dla stałych klientów",
      price: 0,
    },
  ],
  male: [
    {
      name: "Manicure",
      price: 59,
    },
    {
      name: "Manicure + Pedicure",
      price: 150,
    },
  ],
};
const rzęsy = {
  name: "rzęsy",
  female: [
    {
      name: "Laminacja rzęs",
      price: 130,
    },
    {
      name: "Henna rzęs",
      price: 45,
    },
  ],
  male: [],
};
const brwi = {
  name: "Brwi",
  female_photo: {
    path1: "img/Brwi1.png",
    path2: "img/Brwi2.png",
  },
  female: [
    {
      name: "Stylizacja brwi (regulacja + henna)",
      price: 80,
    },
    {
      name: "Laminacja brwi + regulacja + henna",
      price: 155,
    },
    {
      name: "Regulacja brwi",
      price: 55,
    },
    {
      name: "Henna brwi",
      price: 55,
    },
    {
      name: "Stylizacja brwi + depilacja wąsik",
      price: 105,
    },
    {
      name: "Henna brwi + depilacja wąsik",
      price: 80,
    },
    {
      name: "Regulacja brwi + depilacja wąsik",
      price: 65,
    },
  ],
  male: [],
};
const promocijnePakiety = {
  name: "Promocijne pakiety",
  female: [
    {
      name: "Depilacja laserowa: pakiet 1 (4+1)",
      price: -1,
      bold: true,
    },
    {
      name: "Bikini głębokie + pachy (kupujesz 4 zabiegi + 1 gratis)",
      price: 1200,
    },
    {
      name: "Depilacja laserowa: pakiet 2 (4+1)",
      price: -1,
      bold: true,
    },
    {
      name: "Bikini głębokie + pachy + łydki (kupujesz 4 zabiegi + 1 gratis)",
      price: 2200,
    },
    {
      name: "Depilacja laserowa: pakiet 3 (4+1)",
      price: -1,
      bold: true,
    },
    {
      name: "Nóżki całkem + bikini głębokie + pachy (kupujesz 4 zabiegi + 1 gratis)",
      price: 2800,
    },
    {
      name: "Depilacja laserowa: pakiet 4 (4+1)",
      price: -1,
      bold: true,
    },
    {
      name: "Łydki + bikini (kupujesz 4 zabiegi + 1 gratis)",
      price: 1720,
    },
    {
      name: "Depilacja laserowa: pakiet 5 (4+1)",
      price: -1,
      bold: true,
    },
    {
      name: "Nóżki całkiem + bikini (kupujesz 4 zabiegi + 1 gratis)",
      price: 2200,
    },
    {
      name: "Depilacja laserowa: pakiet 6 (4+1)",
      price: -1,
      bold: true,
    },
    {
      name: "Łydki + pachy (kupujesz 4 zabiegi + 1 gratis)",
      price: 1600,
    },
    {
      name: "Depilacja laserowa: pakiet 7 (4+1)",
      price: -1,
      bold: true,
    },
    {
      name: "Bikini + pachy + wąsik (kupujesz 4 zabiegi + 1 gratis)",
      price: 1600,
    },
    {
      name: "Depilacja laserowa: pakiet 8 (4+1)",
      price: -1,
      bold: true,
    },
    {
      name: "Wąsik + podbródek (kupujesz 4 zabiegi + 1 gratis)",
      price: 520,
    },
  ],
  male: [
    {
      name: "Depilacja laserowa: pakiet 1 (4+1)",
      price: -1,
      bold: true,
    },
    {
      name: "Bikini głębokie + pachy (kupujesz 4 zabiegi + 1 gratis)",
      price: 1200,
    },
    {
      name: "Depilacja laserowa: pakiet 2 (4+1)",
      price: -1,
      bold: true,
    },
    {
      name: "Bikini głębokie + pachy + łydki (kupujesz 4 zabiegi + 1 gratis)",
      price: 2200,
    },
    {
      name: "Depilacja laserowa: pakiet 3 (4+1)",
      price: -1,
      bold: true,
    },
    {
      name: "Nóżki całkem + bikini głębokie + pachy (kupujesz 4 zabiegi + 1 gratis)",
      price: 2800,
    },
    {
      name: "Depilacja laserowa: pakiet 4 (4+1)",
      price: -1,
      bold: true,
    },
    {
      name: "Łydki + bikini (kupujesz 4 zabiegi + 1 gratis)",
      price: 1720,
    },
    {
      name: "Depilacja laserowa: pakiet 5 (4+1)",
      price: -1,
      bold: true,
    },
    {
      name: "Nóżki całkiem + bikini (kupujesz 4 zabiegi + 1 gratis)",
      price: 2200,
    },
    {
      name: "Depilacja laserowa: pakiet 6 (4+1)",
      price: -1,
      bold: true,
    },
    {
      name: "Łydki + pachy (kupujesz 4 zabiegi + 1 gratis)",
      price: 1600,
    },
    {
      name: "Depilacja laserowa: pakiet 7 (4+1)",
      price: -1,
      bold: true,
    },
    {
      name: "Bikini + pachy + wąsik (kupujesz 4 zabiegi + 1 gratis)",
      price: 1600,
    },
    {
      name: "Depilacja laserowa: pakiet 8 (4+1)",
      price: -1,
      bold: true,
    },
    {
      name: "Wąsik + podbródek (kupujesz 4 zabiegi + 1 gratis)",
      price: 520,
    },
  ],
};
window.addEventListener("load", (event) => {
  const prices = [
    depilacjaWoskiem,
    depilacjaLaserowa,
    elektroepilacja,
    kosmetologia,
    manicure,
    pedicure,
    rzęsy,
    brwi,
    promocijnePakiety,
  ];
  const contentListWrapper = document.querySelector(".tabs__content");
  const contentList = document.querySelector(".content__list");
  const tabsItems = document.querySelector(".tabs__items");
  const subItemsList = document.querySelector(".sub__items");
  const subItems = document.querySelectorAll(".sub__item");
  const female = document.querySelector('[data-gender="female"]');
  const male = document.querySelector('[data-gender="male"]');
  function getTab(id) {
    id = Number(id);
    return prices.filter((tab, index) => id == index);
  }
  function getTabNames(array) {
    return array.map((item) => item.name);
  }
  function showTabNames() {
    const names = getTabNames(prices);
    names.forEach((item, index) => {
      const tabItem = document.createElement("li");
      tabItem.classList = index === 0 ? "tabs__item active" : "tabs__item";
      tabItem.innerText = item;
      tabItem.dataset.index = index;
      tabsItems.append(tabItem);
    });
  }
  function getFemaleMaleList(femaleMale) {
    femaleMale.forEach((list) => {
      const div = document.createElement("div");
      div.classList = "content__wrapper";
      const name = document.createElement("li");
      name.classList = list.bold ? "content__item bold" : "content__item";
      name.innerText = list.name;
      const dots = document.createElement("li");
      dots.classList = list.price === -1 ? "content__item" : "content__item dots";
      const price = document.createElement("li");
      price.classList = "content__item";
      price.innerText = list.price === -1 ? "" : `${list.price} zł`;
      div.append(name);
      div.append(dots);
      div.append(price);
      contentList.append(div);
    });
  }
  function rmImage() {
    for (let item of contentListWrapper.children) {
      if (item.classList.contains("image")) {
        item.remove();
      }
      console.log(item);
    }
  }
  function showTab(tab) {
    let gender = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : "female";
    contentList.classList.remove("with-photo");
    contentListWrapper.classList.remove("photo");
    female.classList.remove("disabled", "active");
    male.classList.remove("disabled", "active");
    if (tab[0].female.length === 0) {
      female.classList.add("disabled");
    }
    if (tab[0].male.length === 0) {
      male.classList.add("disabled");
    }
    if (gender == "female" && tab[0].female.length > 0) {
      contentList.replaceChildren();
      female.classList.add("active");
      getFemaleMaleList(tab[0].female);
      // console.log(tab[0].name);
      if (tab[0].female_photo) {
        const divImage = document.createElement("div");
        divImage.classList.add("image");
        const divImageWrapperBig = document.createElement("div");
        divImageWrapperBig.classList.add("image__wrapper-big");
        const imgBig = document.createElement("img");
        imgBig.src = tab[0].female_photo.path1;
        const divImageWrapperSmall = document.createElement("div");
        divImageWrapperSmall.classList.add("image__wrapper-small");
        const imgSmall = document.createElement("img");
        imgSmall.src = tab[0].female_photo.path2;
        divImageWrapperBig.append(imgBig);
        divImageWrapperSmall.append(imgSmall);
        divImage.append(divImageWrapperBig, divImageWrapperSmall);
        contentListWrapper.append(divImage);
        contentListWrapper.classList.add("photo");
        contentList.classList.add("with-photo");
      }
    }
    if (gender == "male" && tab[0].male.length > 0) {
      contentList.replaceChildren();
      male.classList.add("active");
      getFemaleMaleList(tab[0].male);
    }
    if (tab[0].female.length === 0 && tab[0].male.length === 0) {
      contentList.replaceChildren();
    }
  }
  function setIdSubItems(id) {
    id = Number(id);
    subItems.forEach((item) => {
      item.dataset.id = id;
    });
  }
  function removeTabsActiveClass(tabsContainerElem) {
    for (let item of tabsContainerElem.children) {
      item.classList.remove("active");
    }
  }
  tabsItems.addEventListener("click", (event) => {
    const target = event.target;
    if (target && target.classList.contains("tabs__item")) {
      const tab = getTab(target.dataset.index);
      removeTabsActiveClass(target.parentElement);
      rmImage();
      target.classList.add("active");
      showTab(tab);
      setIdSubItems(target.dataset.index);
    }
  });
  subItemsList.addEventListener("click", (event) => {
    const target = event.target;
    if (target && target.classList.contains("disabled")) {
      return;
    }
    if (target.dataset.gender === male) {
      rmImage();
    }
    if (target && target.classList.contains("sub__item")) {
      const tab = getTab(target.dataset.id);
      rmImage();
      showTab(tab, target.dataset.gender);
    }
  });
  showTab(getTab(0));
  setIdSubItems(0);
  showTabNames();

  // window.addEventListener("resize", () => {
  //   console.log(window.innerWidth);
  // });
});

const arrow = document.querySelector(".scroll-down-btn");
const scrollTarget = document.querySelector(".zabiegi");
const burger = document.querySelector(".menu__burger");
const menu = document.querySelector(".menu__body");
const scroll = 60;
const headerWrapper = document.querySelector(".header__wrapper");
const logo = document.querySelector(".header__logo");
const arrowBack = document.querySelector(".arrow-back");
const menuLinksArray = document.querySelectorAll(".menu__link");
const menuList = document.querySelector(".menu__list");

// console.log(menuList);
const giftCardBlock = document.querySelector(".gift-card");
console.log(giftCardBlock.getBoundingClientRect());
menuList.addEventListener("click", (event) => {
  event.preventDefault();
  const target = event.target;

  // menuLinksArray.forEach((link) => {
  //   link.classList.remove("active-item");
  // });
  if (target && target.classList.contains("menu__link")) {
    // target.classList.add("active-item");

    const idBlock = target.getAttribute("href").replace("#", "");
    const distance =
      document.getElementById(idBlock).getBoundingClientRect().top + window.pageYOffset;
    window.scrollTo({
      top: distance,
      behavior: "smooth",
    });
  }
});
menuLinksArray.forEach((link) => {
  link.addEventListener("click", () => {
    link.classList.add("active-item");
  });
});
arrow.addEventListener("click", () => {
  scrollTarget.scrollIntoView({
    block: "center",
    behavior: "smooth",
  });
});
burger.addEventListener("click", () => {
  menu.classList.add("active");
});
arrowBack.addEventListener("click", () => {
  menu.classList.remove("active");
});
window.addEventListener("scroll", () => {
  // const opinieElement = document.getElementById("opinie");
  // const elementDistanceToTop = opinieElement.getBoundingClientRect().top;

  const arrayofBlocks = [
    "about",
    "zabiegi",
    "benefits",
    "effects",
    "feedback",
    "gift_card",
    "footer",
  ];
  arrayofBlocks.forEach((elementId) => {
    const element = document.getElementById(elementId);
    const { height: elementHeight, top: elementTop } = element.getBoundingClientRect();

    // if (elementId === "onas") {
    //   console.log(elementTop, -elementHeight);
    // }
    console.log("elementTop", Math.trunc(elementTop));
    if (Math.trunc(elementTop) <= 2 && elementTop + elementHeight >= 2) {
      const headerElement = document.querySelector(`[data-anchor="${elementId}"]`);
      headerElement.classList.add("active-item");
    } else {
      const headerElement = document.querySelector(`[data-anchor="${elementId}"]`);
      headerElement.classList.remove("active-item");
    }
  });
  if (window.scrollY >= scroll || window.pageYOffset >= scroll) {
    headerWrapper.classList.add("fixed");
    logo.classList.add("change-logo");
    if (burger) {
      burger.classList.add("scroll");
    }
  } else {
    headerWrapper.classList.remove("fixed");
    logo.classList.remove("change-logo");
    if (burger) {
      burger.classList.remove("scroll");
    }
  }
});
const feedbackSlider = new Swiper(".feedbackSlider", {
  autoplay: {
    delay: 5000,
  },
  speed: 800,
  pagination: {
    el: ".swiper-pagination",
    clickable: true,
  },
  breakpoints: {
    320: {
      slidesPerView: 2,
      spaceBetween: 20,
      slidesPerGroup: 2,
    },
    768: {
      slidesPerView: 2,
      spaceBetween: 40,
      slidesPerGroup: 2,
    },
    992: {
      slidesPerView: 3,
      spaceBetween: 62,
      slidesPerGroup: 3,
    },
  },
});
const effectsSlider = new Swiper(".effectsSlider", {
  speed: 800,
  loop: true,
  autoplay: {
    delay: 5000,
  },
  breakpoints: {
    // when window width is >= 320px
    320: {
      slidesPerView: 2,
      spaceBetween: 20,
      slidesPerGroup: 2,
    },
    // when window width is >= 480px
    768: {
      slidesPerView: 2,
      spaceBetween: 30,
      slidesPerGroup: 2,
    },
    // when window width is >= 640px
    992: {
      slidesPerView: 2,
      spaceBetween: 63,
      slidesPerGroup: 2,
    },
  },
  navigation: {
    nextEl: ".effectsSlider-btn-next",
    prevEl: ".effectsSlider-btn-prev",
  },
});
